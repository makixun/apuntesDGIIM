%\documentclass[]{article}


% % % % % \date{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Plantilla para libro de texto de matemáticas.
%
% Esta plantilla ha sido desarrollada desde cero, pero utiliza algunas partes
% del código de la plantilla original utilizada en apuntesDGIIM
% (https://github.com/libreim/apuntesDGIIM), basada a su vez en las plantillas
% 'Short Sectioned Assignment' de Frits Wenneker (http://www.howtotex.com),
% 'Plantilla de Trabajo' de Mario Román y 'Plantilla básica de Latex en Español'
% de Andrés Herrera Poyatos (https://github.com/andreshp). También recoge
% ideas de la plantilla 'Multi-Purpose Large Font Title Page' de
% Frits Wenneker y Vel (vel@latextemplates.com).
%
% Licencia:
% CC BY-NC-SA 4.0 (https://creativecommons.org/licenses/by-nc-sa/4.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ---------------------------------------------------------------------------
% CONFIGURACIÓN BÁSICA DEL DOCUMENTO
% ---------------------------------------------------------------------------

%\documentclass[11pt, a4paper, twoside]{article} % Usar para imprimir
\documentclass[10pt, a4paper]{article}

\linespread{1.3}            % Espaciado entre líneas.
\setlength\parindent{0pt}   % No indentar el texto por defecto.
\setlength\parskip{7pt}

% ---------------------------------------------------------------------------
% CONFIGURACIÓN PERSONALIZADA
% ---------------------------------------------------------------------------

\usepackage{config}

% ---------------------------------------------------------------------------
% COMANDOS Y PAQUETES UTILIZADOS POR PANDOC
% ---------------------------------------------------------------------------

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\usepackage{longtable}
\usepackage{booktabs}
\usepackage{stmaryrd}

% Ajuste del tamaño de las imágenes

% We will generate all images so they have a width \maxwidth. This means
% that they will get their normal width if they fit onto the page, but
% are scaled down if they would overflow the margins.
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
\else\Gin@nat@width\fi}
\makeatother
\let\Oldincludegraphics\includegraphics
\renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=\maxwidth]{#1}}

% ---------------------------------------------------------------------------
% PAQUETES BÁSICOS
% ---------------------------------------------------------------------------

% IDIOMA
\usepackage[spanish, es-tabla, es-lcroman, es-noquoting]{babel}

% FUENTES
\usepackage{newpxtext, newpxmath}   % Fuente similar a Palatino
\usepackage{FiraSans}                 % Fuente sans serif
\usepackage[T1]{fontenc}
\usepackage[italic]{mathastext}     % Utiliza la fuente del documento
                                    % en los entornos matemáticos

% MÁRGENES
\usepackage[margin=2.5cm, top=3cm]{geometry}

%  OTROS
\usepackage{hyperref}   % Enlaces
\usepackage{graphicx}   % Permite incluir gráficos en el documento

% ---------------------------------------------------------------------------
% COLORES
% ---------------------------------------------------------------------------

\definecolor{sbase00}{HTML}{657B83}

% ---------------------------------------------------------------------------
% FUENTE DE MATEMÁTICAS ADAPTABLE EN SANS-SERIF
% ---------------------------------------------------------------------------

\usepackage{sansmath}

\newif\IfInSansMode
\let\oldsf\sffamily
\renewcommand*{\sffamily}{\oldsf\sansmath\InSansModetrue}

% ---------------------------------------------------------------------------
% DISEÑO DE PÁGINA
% ---------------------------------------------------------------------------

\usepackage{pagecolor}
\usepackage{afterpage}

% ---------------------------------------------------------------------------
% CABECERA Y PIE DE PÁGINA
% ---------------------------------------------------------------------------

\usepackage{fancyhdr}   % Paquete para cabeceras y pies de página

% Indica que las páginas usarán la configuración de fancyhdr
\pagestyle{fancy}
\fancyhf{}

% Representa la sección de la cabecera
\renewcommand{\sectionmark}[1]{%
\markboth{#1}{}}

% Representa la subsección de la cabecera
\renewcommand{\subsectionmark}[1]{%
\markright{#1}{}}

% Parte derecha de la cabecera
\fancyhead[LE,RO]{\sffamily\textsl{\rightmark} \hspace{1em}  \textcolor{500}{\rule[-0.4ex]{0.2ex}{1.2em}} \hspace{1em} \thepage}

% Parte izquierda de la cabecera
\fancyhead[RE,LO]{\sffamily{\leftmark}}

% Elimina la línea de la cabecera
\renewcommand{\headrulewidth}{0pt}

% Controla la altura de la cabecera para que no haya errores
\setlength{\headheight}{14pt}

% ---------------------------------------------------------------------------
% TÍTULOS DE PARTES Y SECCIONES
% ---------------------------------------------------------------------------

\usepackage{titlesec}

% Estilo de los títulos de las partes
\titleformat{\part}[hang]{\Huge\bfseries\sffamily}{\thepart\hspace{20pt}\textcolor{500}{|}\hspace{20pt}}{0pt}{\Huge\bfseries}
\titlespacing*{\part}{0cm}{-2em}{2em}[0pt]

% Reiniciamos el contador de secciones entre partes (opcional)
\makeatletter
\@addtoreset{section}{part}
\makeatother

% Estilo de los títulos de las secciones, subsecciones y subsubsecciones
\titleformat{\section}
  {\Large\bfseries\sffamily}{\thesection}{1em}{}

\titleformat{\subsection}
  {\Large\sffamily}{\thesubsection}{1em}{}[\vspace{.5em}]

\titleformat{\subsubsection}
  {\sffamily}{\thesubsubsection}{1em}{}

% ---------------------------------------------------------------------------
% LISTINGS
% ---------------------------------------------------------------------------

\usepackage{listings}

\lstset{
    inputencoding = utf8,  % Input encoding
    extendedchars = true,  % Extended ASCII
    mathescape    = true   % Mathematical expressions between
    captionpos    = b,     % Caption position
    literate      =        % Support additional characters
      {á}{{\'a}}1  {é}{{\'e}}1  {í}{{\'i}}1 {ó}{{\'o}}1  {ú}{{\'u}}1
      {Á}{{\'A}}1  {É}{{\'E}}1  {Í}{{\'I}}1 {Ó}{{\'O}}1  {Ú}{{\'U}}1
      {à}{{\`a}}1  {è}{{\`e}}1  {ì}{{\`i}}1 {ò}{{\`o}}1  {ù}{{\`u}}1
      {À}{{\`A}}1  {È}{{\'E}}1  {Ì}{{\`I}}1 {Ò}{{\`O}}1  {Ù}{{\`U}}1
      {ä}{{\"a}}1  {ë}{{\"e}}1  {ï}{{\"i}}1 {ö}{{\"o}}1  {ü}{{\"u}}1
      {Ä}{{\"A}}1  {Ë}{{\"E}}1  {Ï}{{\"I}}1 {Ö}{{\"O}}1  {Ü}{{\"U}}1
      {â}{{\^a}}1  {ê}{{\^e}}1  {î}{{\^i}}1 {ô}{{\^o}}1  {û}{{\^u}}1
      {Â}{{\^A}}1  {Ê}{{\^E}}1  {Î}{{\^I}}1 {Ô}{{\^O}}1  {Û}{{\^U}}1
      {œ}{{\oe}}1  {Œ}{{\OE}}1  {æ}{{\ae}}1 {Æ}{{\AE}}1  {ß}{{\ss}}1
      {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1  {å}{{\r a}}1 {Å}{{\r A}}1
      {ñ}{{\~n}}1  {Ñ}{{\~N}}1  {¿}{{?`}}1  {¡}{{!`}}1
      % ¿ and ¡ are not correctly displayed if inconsolata font is used
      % together with the lstlisting environment. Consider typing code in
      % external files and using \lstinputlisting to display them instead.
  }

% Listing -> Código fuente
\renewcommand{\lstlistingname}{Código fuente}

% Ajustes para que funcionen bien las tildes de los comentarios

\lstset{
  inputencoding=utf8
}

% Ajustes de Listings para el documento

\lstset{
  frame=leftline,
  rulecolor=\color{300},
  framerule=2pt,
  % Números de línea
  numbers=left,
  % Margen adicional para alinear los entornos con el resto de párrafos
  xleftmargin=0.7em,
  % Espacio adicional debajo del título
  belowcaptionskip=1\baselineskip,
  % Colores
  basicstyle=\ttfamily\color{sbase00},
  keywordstyle=\color{700},
  commentstyle=\color{300},
  stringstyle=\color{500},
  numberstyle=\color{500},
  % Separar líenas largas en varias líneas
  breaklines=true,
  showstringspaces=false,
  tabsize=2,
}

% ---------------------------------------------------------------------------
% ENTORNOS PERSONALIZADOS
% ---------------------------------------------------------------------------

\usepackage{mdframed}

%% MARCOS DE LOS ESTILOS

% Configuración general de mdframe, los estilos de los teoremas, etc
\mdfsetup{
  skipabove=1em,
  skipbelow=1em,
  innertopmargin=1em,
  innerbottommargin=1em,
  splittopskip=2\topsep,
}

% Definimos los marcos de los estilos

\mdfdefinestyle{nth-frame}{
	linewidth=2pt, %
	linecolor= 500, %
	topline=false, %
	bottomline=false, %
	rightline=false,%
	leftmargin=0em, %
	innerleftmargin=1em, %
  innerrightmargin=1em,
	rightmargin=0em, %
}%

\mdfdefinestyle{nprop-frame}{
	linewidth=2pt, %
	linecolor= 300, %
	topline=false, %
	bottomline=false, %
	rightline=false,%
	leftmargin=0pt, %
	innerleftmargin=1em, %
	innerrightmargin=1em,
	rightmargin=0pt, %
}%

\mdfdefinestyle{ndef-frame}{
	linewidth=2pt, %
	linecolor= 500, %
	backgroundcolor= 50,
	topline=false, %
	bottomline=false, %
	rightline=false,%
	leftmargin=0pt, %
	innerleftmargin=1em, %
	innerrightmargin=1em,
	rightmargin=0pt, %
}%

\mdfdefinestyle{ejer-frame}{
	linewidth=2pt, %
	linecolor= 300, %
	backgroundcolor= 50,
	topline=false, %
	bottomline=false, %
	rightline=false,%
	leftmargin=0pt, %
	innerleftmargin=1em, %
	innerrightmargin=1em,
	rightmargin=0pt, %
}%

\mdfdefinestyle{ejemplo-frame}{
	linewidth=0pt, %
	linecolor= 300, %
	leftline=false, %
	rightline=false, %
	leftmargin=0pt, %
	innerleftmargin=1.3em, %
	innerrightmargin=1em,
	rightmargin=0pt, %
	innertopmargin=0em,%
	innerbottommargin=0em, %
	splittopskip=\topskip, %
}%

% Asignamos los marcos a los estilos
\surroundwithmdframed[style=nth-frame]{nth}
\surroundwithmdframed[style=nprop-frame]{nprop}
\surroundwithmdframed[style=nprop-frame]{ncor}
\surroundwithmdframed[style=ndef-frame]{ndef}
\surroundwithmdframed[style=ejer-frame]{ejer}
\surroundwithmdframed[style=ejemplo-frame]{ejemplo}
\surroundwithmdframed[style=ejemplo-frame]{sol}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ---------------------------------------------------------------------------
% COMIENZO DEL DOCUMENTO
% ---------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

% ---------------------------------------------------------------------------
% PORTADA EXTERIOR
% ---------------------------------------------------------------------------

\newpagecolor{500}\afterpage{\restorepagecolor} % Color de la página
\begin{titlepage}

  % Título del documento
	\parbox[t]{\textwidth}{
			\raggedright % Texto alineado a la izquierda
			\fontsize{50pt}{50pt}\selectfont\sffamily\color{white}{
			  \textbf{\asignatura}
      }
	}

	\vfill

	%% Autor e información del documento
	\parbox[t]{\textwidth}{
		\raggedright % Texto alineado a la izquierda
		\sffamily\large\color{white}
		{\Large \autor }\\[4pt]
		\grado\\
		\universidad\\[4pt]
		\texttt{\enlaceweb}
	}

\end{titlepage}

% ---------------------------------------------------------------------------
% PÁGINA DE LICENCIA
% ---------------------------------------------------------------------------

\thispagestyle{empty}
\null
\vfill

%% Información sobre la licencia
\parbox[t]{\textwidth}{
  %\includegraphics{by-nc-sa.pdf}\\[4pt]
  \raggedright % Texto alineado a la izquierda
  \sffamily\large
  {\Large Este libro se distribuye bajo una licencia CC BY-NC-SA 4.0.}\\[4pt]
  Eres libre de distribuir y adaptar el material siempre que reconozcas a los\\
  autores originales del documento, no lo utilices para fines comerciales\\
  y lo distribuyas bajo la misma licencia.\\[4pt]
  \texttt{creativecommons.org/licenses/by-nc-sa/4.0/}
}

% ---------------------------------------------------------------------------
% PORTADA INTERIOR
% ---------------------------------------------------------------------------

\begin{titlepage}

  % Título del documento
	\parbox[t]{\textwidth}{
			\raggedright % Texto alineado a la izquierda
			\fontsize{50pt}{50pt}\selectfont\sffamily\color{500}{
			  \textbf{\asignatura}
      }
	}

	\vfill

	%% Autor e información del documento
	\parbox[t]{\textwidth}{
		\raggedright % Texto alineado a la izquierda
		\sffamily\large
		{\Large \autor}\\[4pt]
		\grado\\
		\universidad\\[4pt]
		\texttt{\enlaceweb}
	}

\end{titlepage}

% ---------------------------------------------------------------------------
% ÍNDICE
% ---------------------------------------------------------------------------

\thispagestyle{empty}
\tableofcontents
\newpage

% ---------------------------------------------------------------------------
% PANDOC
% ---------------------------------------------------------------------------


\section{}

\section{}

\section{}

\subsection{Mecanismos de reutilización}

En la programación orientada a objetos existen diferentes mecanismos de
reutilización de código, \textit{herencia}, \textit{interfaces} y
\textit{clases parametrizables}.

\subsubsection{}

\subsubsection{Definición y propiedades de la herencia}

La herencia es un mecanismo que permite derivar nuevas clases (subclases
o clases hija) a partir de clases existentes (superclase o clase padre).

Las clases padre e hija comparten un código común que es definido en la
clase padre y que hereda la clase hija. Se reutiliza el código definido
en la clase padre. Podemos hablar de reutilización de código cuando la
clase hija hereda el comportamiento de la clase padre pero no modifica
la forma de llevarlo a cabo. Hablamos de reutilización de concepto
cuando la clase hija hereda el comportamiento de la clase padre y
modifica la forma de llevarlo a cabo.

La clase hija es a la vez una extensión de la clase padre, desde el
punto de vista de la clase como un módulo, y una especialización o
restricción de la clase padre.

Una forma de saber si es conveniente utilizar herencia en cierto caso es
mediante el \textit{test de especialización}. Supongamos que tenemos una
clase A padre y una clase B que pretendemos que sea hija de A. Si
podemos decir que ``''B es un A``'' entonces podemos establecer una
relación de herencia entre A y B.

\subsubsection{}

\subsubsection{}

\subsubsection{}

\subsubsection{}

\subsubsection{}

\subsubsection{}

\subsubsection{}

\subsubsection{}

\subsubsection{El concepto de Interfaz: Java}

\% FIXME: Qué es una Interfaz

Los métodos pueden implementarse en las interfaces. Se hace con dos
métodos diferentes: \texttt{default} y \texttt{static}.

Los métodos \texttt{static} son código \textit{estático} en la clase que
no se redefine.

En Java las interfaces se utilizan para simular
\textit{herencia múltiple}.

\begin{lstlisting}[language=Java]
  interface A {
    default void met1() {
      System.out.println("A");
    }
  }

  interface B {
    default void met1() {
      System.out.println("B");
    }
  }

  class Prueba implements A,B {

    // Tenemos que redefinir el método porque está
    // implementado en las dos interfaces.
    @Override
    void met(1) {
      B.super.met1();
    }

  }

  public class Interaces {

    public static void main(String[] args) {

      B b = new Prueba();
      b.met1();

    }

  }
\end{lstlisting}

Produce la salida:

\begin{lstlisting}[language=bash, style=terminal]
  run:
  B
\end{lstlisting}

\subsubsection{Simulando herencia múltiple}

En Java

En Java se presenta un conflicto de nombres con los métodos default
cuando una clase implementa varias interfaces o cuando una interfaz
hereda de varias interfaces con miembros del mismo nombre. Para evitarlo
podemos o bien proporcionar una nueva implementación, elegir una de las
implementaciones que hay o crear un método abstracto.

En Ruby

Para simular herencia múltiple en Ruby hay una forma posible llamada
comúnmente \textit{mixin} que consiste en heredar de una clase
\texttt{e} e incluir un módulo dentro de la clase.

\subsubsection{Clases parametrizables}

Una clase parametrizable presenta un alto grado de reutilización, pero
tiene limitaciones. Encapsulan operaciones válidas para varios tipos de
datos, generalizando los tipos y sus operaciones.

Su uso más frecuente es cuando sus atributos están formados por varios
objetos del mismo tipo, siendo este un parámetro que tomará valor uando
usemos la clase parametrizable. En Ruby no existe este concepto.

\begin{lstlisting}[language=Java] 
public class Tienda<T> {

    String nombre;
    ArrayList<T> stock;
    float ganancias;

    Tienda (String n) {

      nombre=n;
      stock = new ArrayList();
      ganancia=0;
    }

    public void comprarAProveedr(T objeto, float precioCoste) {

      stock.add(objeto);
      ganancias = ganancias-precioCoste;

    }

    public void venderACliente(T objeto, float pvp) {

      stock.remove(objeto);
      ganancias=ganancias+pvp;

    }

    public float getGanancias() {
      return ganancias
    }

  }

\end{lstlisting}

\begin{lstlisting}

\end{lstlisting}

\subsection{}

\subsection{}

\begin{lstlisting}

\end{lstlisting}


% ---------------------------------------------------------------------------
% CONTENIDO
% ---------------------------------------------------------------------------



\end{document}
